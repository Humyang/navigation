<!DOCTYPE html>
<html>

<head>
    <title>RegExp</title>
</head>

<body>
    <style>
    body {
        margin: 50px;
    }

    a.button {
        border: 1px solid #6e64ff;
        padding: 10px 20px;
        text-decoration: none;
        color: #1200ff;
        font-size: 18px;
        font-weight: 600;
        border-radius: 7px;
    }
    textarea#inTextarea {
    /* border: 0; */
    /* -webkit-highlight: none; */
    width: 100%;
    padding: 10px;
    font-size: 16px;
    height: 400px;
}

div#output {
    background-color: #effff5;
    border: 1px solid #9aff81;
    padding: 15px;
    border-radius: 15px;
    padding-top: 0;
        width: 100%;
}
    </style>
    <a id="kindleFormat_btn" class="button" href="#">kindle英语例句</a>
    <a id="toTuoFeng" class="button" href="#">变量转驼峰</a>
    <div id+>
        <p>代码</p>
        <div id="code_preview">
        </div>
    </div>
    <div class="main_wrap">
	    <p>输入</p>
	    <textarea id="inTextarea" name="" id="" cols="30" rows="10">created_sales_group_id: 1
            deleted_at: null
            from_chance_id: 546846
            id: 1
            phone: ""
            real_name: ""
            remark: ""
            sn: "YBM82201892682c"
            status: 1
            updated_at: "2018-09-26 17:02:36"
            user_id: 0</textarea>
	    <p>输出</p>
	    <div id="output">
	    </div>
    </div>
    <script>
    window.onload = function() {
        var outDiv = document.getElementById("output")
        var inTextarea = document.getElementById("inTextarea")

        var kindleFormat_btn = document.getElementById("kindleFormat_btn")
        kindleFormat_btn.onclick = function(event) {
            var result = kindleFormat(inTextarea.value)
            outDiv.innerText = result
            event.preventDefault()
        }
        var toTuoFeng =document.getElementById("toTuoFeng")
        toTuoFeng.onclick=function(event){
            // 
            inTextarea.value
            var str = inTextarea.value
            // var re = /[a-z]+(\_[a-z]+)+/;
            // re.exec(str)
            let match = str.match(/[a-z]+(\_[a-z]+)+/g)
            
            let res = match.map((item)=>{
                return transformStr3(item)
            })
            let res2 = res.map((item,index)=>{
                return '\n'+item+":"+match[index]
            })
            // console.log(match)
            outDiv.innerText = res2
        }
    }
    function transformStr3(str){
        var re=/_(\w)/g;
        return str.replace(re,function ($0,$1){
            return $1.toUpperCase();
        });
    }
    // kindle英语例句
    function kindleFormat(str) {
        var str1 = str.replace(/[0-9][?\)]/g, '\n$&')
        var str2 = str1.replace(/在 例句 [0-9]\）/g, '\n$&')
        var str3 = str2.replace(/妙语 点 睛|精品 译文/g, '\n\n$&\n\n')
        var str4 = str3.replace(/[0-9]?[0-9] 　 /g, '\n$&')
        var str5 = str4.replace(/[0-9](\） )/g, "\n$&")
        var str6 = str5.replace(/在 例句 \n/g, "在 例句 ")
        var str7 = str6.replace(/[A-Z](:|：)/g, "\n$&\n")
        // copy(str6)
        return str7
    }
    </script>
</body>

</html>